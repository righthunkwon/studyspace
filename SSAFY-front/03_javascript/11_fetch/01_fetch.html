<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>fetch</title>
  </head>
  <body>
    <script>
      // fetch(resource, options)
      // fetch() 메서드는 Promise 객체를 반환
      // Promise를 지원하므로 콜백 패턴에서 자유로움
      // XTLHttpRequest 보다 강력하고 유연한 조작 가능
      // 성공 시 then()을 이용해 작업 처리, 실패 시 catch()를 이용해 작업 처리
      // resources: url 지정, options: 옵션 지정(method, headers, body)
      fetch("https://jsonplaceholder.typicode.com/posts/1")
        .then((response) => 
          // console.log(response.text())  
          response.text()
        )
        .then((response) => JSON.parse(response).body)
        .then((body) => console.log(body));
    </script>
  </body>
</html>
